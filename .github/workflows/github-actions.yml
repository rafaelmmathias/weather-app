name: unit tests
on: [push]
jobs:
  tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: install modules
        run: yarn install
      - name: Run tests
        run: yarn test
  coverage:
        permissions:
          checks: write
          pull-requests: write
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v1
            - uses: ArtiomTr/jest-coverage-report-action@v2
            - with:
              test-script: yarn test